{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to MkDocs # For full documentation visit mkdocs.org . Commands # mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout # mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Home"},{"location":"#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"about/","text":"Welcome to MkDocs # For full documentation visit mkdocs.org . My Story # Project layout # mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. Pro # mk do/ ind.md","title":"About"},{"location":"about/#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"about/#my-story","text":"","title":"My Story"},{"location":"about/#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"about/#pro","text":"mk do/ ind.md","title":"Pro"},{"location":"docker-build-deploy/","text":"Docker \ube4c\ub4dc \ubc0f \ubc30\ud3ec # \uc124\uba85 \ubc0f \uad6c\uc870 \uacf5\uc2dd\uc0ac\uc774\ud2b8 \ub97c \ud1b5\ud574 \uc124\uce58\ud569\ub2c8\ub2e4. Registry \uad6c\ucd95 # docker registry \uc124\uce58 $ docker pull registry:latest docker registry \uc2e4\ud589 $ docker run -d -p 5000:5000 --restart always --name docker-repo registry:latest Docker Build # Dockerfile \uad6c\uc131 # FROM golang:1.19 WORKDIR $GOPATH/src/ads-report-go COPY . $GOPATH/src/ads-report-go RUN go build . ENTRYPOINT [\"./ads-report-go\"] Project Build # $ docker build -t ads-report-go . Docker tag \uc124\uc815 # $ docker tag ads-report-go ad-report.igamepub.co.kr:443/ads-report-go:1.1 Docker push # $ docker push ad-report.igamepub.co.kr:443/ads-report-go:1.1 Docker Image Pull # $ docker pull ad-report.igamepub.co.kr:443/ads-report-go:1.1 Docker Run # $ docker attach $(docker run --name ads-admin -p 80:80 -it -d containerID)","title":"Test2"},{"location":"docker-build-deploy/#docker","text":"\uc124\uba85 \ubc0f \uad6c\uc870 \uacf5\uc2dd\uc0ac\uc774\ud2b8 \ub97c \ud1b5\ud574 \uc124\uce58\ud569\ub2c8\ub2e4.","title":"Docker \ube4c\ub4dc \ubc0f \ubc30\ud3ec"},{"location":"docker-build-deploy/#registry","text":"docker registry \uc124\uce58 $ docker pull registry:latest docker registry \uc2e4\ud589 $ docker run -d -p 5000:5000 --restart always --name docker-repo registry:latest","title":"Registry \uad6c\ucd95"},{"location":"docker-build-deploy/#docker-build","text":"","title":"Docker Build"},{"location":"docker-build-deploy/#dockerfile","text":"FROM golang:1.19 WORKDIR $GOPATH/src/ads-report-go COPY . $GOPATH/src/ads-report-go RUN go build . ENTRYPOINT [\"./ads-report-go\"]","title":"Dockerfile \uad6c\uc131"},{"location":"docker-build-deploy/#project-build","text":"$ docker build -t ads-report-go .","title":"Project Build"},{"location":"docker-build-deploy/#docker-tag","text":"$ docker tag ads-report-go ad-report.igamepub.co.kr:443/ads-report-go:1.1","title":"Docker tag \uc124\uc815"},{"location":"docker-build-deploy/#docker-push","text":"$ docker push ad-report.igamepub.co.kr:443/ads-report-go:1.1","title":"Docker push"},{"location":"docker-build-deploy/#docker-image-pull","text":"$ docker pull ad-report.igamepub.co.kr:443/ads-report-go:1.1","title":"Docker Image Pull"},{"location":"docker-build-deploy/#docker-run","text":"$ docker attach $(docker run --name ads-admin -p 80:80 -it -d containerID)","title":"Docker Run"},{"location":"go-google-api-usage/","text":"Google API \uc0ac\uc6a9\ubc95 # go \uc5b8\uc5b4\uc6a9 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc788\uc9c0\ub9cc \uc9c1\uc811 \uc561\uc11c\uc2a4 \ud1a0\ud070\uc73c\ub85c Google API \ub97c \uc0ac\uc6a9\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. API \ucf58\uc194 \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131 \ubc0f \uc124\uc815 # Google Play Developer API \uc744 \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc120 OAuth2 \uc778\uc99d\uc774 \ud544\uc218\uc785\ub2c8\ub2e4. Google Cloud \ud504\ub85c\uc81d\ud2b8\ub0b4 \uc0ac\uc6a9\uc790 \uc778\uc99d \uc815\ubcf4\uc5d0\uc11c \uc6f9 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc720\ud615\uc73c\ub85c OAuth 2.0 \ud074\ub77c\uc774\uc5b8\ud2b8 ID \ub97c \ub9cc\ub4e4\uc5b4\uc918\uc57c \ud569\ub2c8\ub2e4. (\ucc38\uace0\ub85c \ud1a0\ud070\uc744 \uc5bb\uae30 \uc704\ud574 OAuth \ub3d9\uc758\ud654\uba74\uc5d0\uc11c \uc544\ubb34\ub7f0 API \ubc94\uc704 \ucd94\uac00\uac00 \ud544\uc694\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.) \ud1a0\ud070\uc744 \uc5bb\uae30 \uc704\ud574 \ud544\uc694\ud55c \ud544\uc218 \ud56d\ubaa9 ClientID ClientSecret \uc2b9\uc778\ub41c \ub9ac\ub514\ub809\uc158 URI RefreshToken \uc0dd\uc131 # Redirect \uc11c\ubc84 \uad6c\ucd95 # \ud1a0\ud070\uc744 \uc5bb\uae30\uc704\ud574 \ubbf8\ub9ac Redirect \uc11c\ubc84\ub97c \uad6c\ucd95\ud574\uc57c \ud569\ub2c8\ub2e4. example : package main import ( \"context\" \"log\" \"net/http\" \"github.com/gin-gonic/gin\" \"golang.org/x/oauth2\" \"golang.org/x/oauth2/google\" ) func main() { router := gin.Default() ctx := context.Background() oauth2Conf := &oauth2.Config{ ClientID: \"871xxxxxxxx-xxxxx.apps.googleusercontent.com\", ClientSecret: \"GOXXXX-31xxxxxxxx\", Endpoint: google.Endpoint, RedirectURL: \"http://localhost:8077/redirect\", Scopes: []string{ \"https://www.googleapis.com/auth/admob.readonly\", }, } router.GET(\"/redirect\", func(c *gin.Context) { code := c.Query(\"code\") log.Println(code) tok, err := oauth2Conf.Exchange(ctx, code) if err != nil { c.JSON(500, err) return } log.Println(tok.RefreshToken) }) } \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \ub85c\uadf8\uc778\ud558\uae30 # \ubbf8\ub9ac \uad6c\uae00\uacc4\uc815\uc744 \ub85c\uadf8\uc544\uc6c3\ud574\ub193\uace0 \uc544\ub798 URI \ub85c \uc694\uccad \ud6c4 \ub85c\uadf8\uc778 \ud569\ub2c8\ub2e4. \ub85c\uadf8\uc778\uc774 \uc131\uacf5\ud55c\ub2e4\uba74 \ub9ac\ub514\ub809\uc158 \uc11c\ubc84\ub85c \uc694\uccad\uc774 \uac11\ub2c8\ub2e4. \uadf8\ub9ac\uace0 code\ub97c \ubc1b\uc544\uc11c exchange \ud558\uba74 RefreshToken \uc774 \ubc1c\uae09\ub429\ub2c8\ub2e4. scope : \uc0ac\uc6a9\ud560 API \ubc94\uc704 client_id : API \ucf58\uc194\uc5d0\uc11c \uc124\uc815\ud55c ClientID https://accounts.google.com/o/oauth2/auth?scope=https://www.googleapis.com/auth/admob.readonly&response_type=code&access_type=offline&redirect_uri=http://localhost:8077/redirect&client_id=... API \uc0ac\uc6a9\ud558\uae30 # \ubc31\uc5d4\ub4dc\ub2e8\uc5d0\uc11c \ub9e4\ubc88 \ube0c\ub77c\uc6b0\uc800\ub85c \uc778\uc99d\ucc98\ub9ac\ub97c \ud560 \uc218 \uc5c6\uae30\ub54c\ubb38\uc5d0 RefreshToken \uc744 \uc774\uc6a9\ud574\uc11c AccessToken \uc744 \uc5bb\uc2b5\ub2c8\ub2e4. AccessToken \uc5bb\uae30\uc704\ud55c POST \uc694\uccad # POST https://accounts.google.com/o/oauth2/token HEADER \"Content-Type\" : \"application/x-www-form-urlencoded\" [Request Body (FormData)] | Key | Description | Type | | ---- | --------------- | ------ | | refresh_token | \uc704\uc5d0\uc11c \ubc1c\uae09\ubc1b\uc740 \ud1a0\ud070 | string | | client_id | API \ucf58\uc194\uc5d0\uc11c \uc5bb\uc740 id | string | | client_secret | API \ucf58\uc194 key | string | | grant_type | \uc5b4\ub5a4 \uc720\ud615\uc73c\ub85c \ud1a0\ud070\uc744 \uc5bb\uc744\uc9c0\uc5d0 \ub300\ud55c \ud0c0\uc785 | string | example : import \"github.com/go-resty/resty/v2\" func example() { client := resty.New() resp, err := client.R(). SetHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"). SetFormData(map[string]string{ \"refresh_token\": \"1//0e6caG1CsCnrVCgYIARAAGA4SNwF-...\", \"client_id\": \"871390000-xxx.apps.googleusercontent.com\", \"client_secret\": \"GOXXXX-31xxxx\", \"grant_type\": \"refresh_token\", }). Post(\"https://accounts.google.com/o/oauth2/token\") if err != nil { log.Println(err.Error()) } fmt.Println(\" Body :\\n\", resp) ... Google Developer API \ud638\ucd9c # admob \uc608\uc81c: type AdmobReq struct { ReportSpec struct { DateRange struct { StartDate struct { Year int `json:\"year\"` Month int `json:\"month\"` Day int `json:\"day\"` } `json:\"startDate\"` EndDate struct { Year int `json:\"year\"` Month int `json:\"month\"` Day int `json:\"day\"` } `json:\"endDate\"` } `json:\"dateRange\"` Metrics []string `json:\"metrics\"` LocalizationSettings struct { CurrencyCode string `json:\"currencyCode\"` LanguageCode string `json:\"languageCode\"` } `json:\"localizationSettings\"` Dimensions []string `json:\"dimensions\"` } `json:\"reportSpec\"` } var admobReq AdmobReq admobReq.ReportSpec.DateRange.StartDate.Year = startYear admobReq.ReportSpec.DateRange.StartDate.Month = startMonth admobReq.ReportSpec.DateRange.StartDate.Day = startDay admobReq.ReportSpec.DateRange.EndDate.Year = endYear admobReq.ReportSpec.DateRange.EndDate.Month = endMonth admobReq.ReportSpec.DateRange.EndDate.Day = endDay admobReq.ReportSpec.Metrics = []string{\"ESTIMATED_EARNINGS\", \"IMPRESSIONS\", \"IMPRESSION_RPM\"} admobReq.ReportSpec.LocalizationSettings.CurrencyCode = \"USD\" admobReq.ReportSpec.LocalizationSettings.LanguageCode = \"en-US\" admobReq.ReportSpec.Dimensions = []string{\"DATE\", \"APP\"} reportResp, err := client.R(). SetAuthToken(authResp.AccessToken). //\ub9c8\uc0ec\ub9c1\ud55c \uc561\uc11c\uc2a4 \ucf54\ub4dc SetHeader(\"ContentType\", \"application/json\"). SetBody(admobReq). Post(\"https://admob.googleapis.com/v1/accounts/pub-0000000/networkReport:generate\") fmt.Println(\" Error :\", err) fmt.Println(\" Body :\\n\", reportResp) Tip \ub3d9\uc77c\ud55c \ubc29\uc2dd\uc73c\ub85c \uad6c\uae00 \uc601\uc218\uc99d\uac80\uc99d, \ud658\ubd88\ubaa9\ub85d \uc870\ud68c API \ub4f1 \ubaa8\ub4e0 API \uc0ac\uc6a9\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.","title":"Test3"},{"location":"go-google-api-usage/#google-api","text":"go \uc5b8\uc5b4\uc6a9 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc788\uc9c0\ub9cc \uc9c1\uc811 \uc561\uc11c\uc2a4 \ud1a0\ud070\uc73c\ub85c Google API \ub97c \uc0ac\uc6a9\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4.","title":"Google API \uc0ac\uc6a9\ubc95"},{"location":"go-google-api-usage/#api","text":"Google Play Developer API \uc744 \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc120 OAuth2 \uc778\uc99d\uc774 \ud544\uc218\uc785\ub2c8\ub2e4. Google Cloud \ud504\ub85c\uc81d\ud2b8\ub0b4 \uc0ac\uc6a9\uc790 \uc778\uc99d \uc815\ubcf4\uc5d0\uc11c \uc6f9 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc720\ud615\uc73c\ub85c OAuth 2.0 \ud074\ub77c\uc774\uc5b8\ud2b8 ID \ub97c \ub9cc\ub4e4\uc5b4\uc918\uc57c \ud569\ub2c8\ub2e4. (\ucc38\uace0\ub85c \ud1a0\ud070\uc744 \uc5bb\uae30 \uc704\ud574 OAuth \ub3d9\uc758\ud654\uba74\uc5d0\uc11c \uc544\ubb34\ub7f0 API \ubc94\uc704 \ucd94\uac00\uac00 \ud544\uc694\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.) \ud1a0\ud070\uc744 \uc5bb\uae30 \uc704\ud574 \ud544\uc694\ud55c \ud544\uc218 \ud56d\ubaa9 ClientID ClientSecret \uc2b9\uc778\ub41c \ub9ac\ub514\ub809\uc158 URI","title":"API \ucf58\uc194 \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131 \ubc0f \uc124\uc815"},{"location":"go-google-api-usage/#refreshtoken","text":"","title":"RefreshToken \uc0dd\uc131"},{"location":"go-google-api-usage/#redirect","text":"\ud1a0\ud070\uc744 \uc5bb\uae30\uc704\ud574 \ubbf8\ub9ac Redirect \uc11c\ubc84\ub97c \uad6c\ucd95\ud574\uc57c \ud569\ub2c8\ub2e4. example : package main import ( \"context\" \"log\" \"net/http\" \"github.com/gin-gonic/gin\" \"golang.org/x/oauth2\" \"golang.org/x/oauth2/google\" ) func main() { router := gin.Default() ctx := context.Background() oauth2Conf := &oauth2.Config{ ClientID: \"871xxxxxxxx-xxxxx.apps.googleusercontent.com\", ClientSecret: \"GOXXXX-31xxxxxxxx\", Endpoint: google.Endpoint, RedirectURL: \"http://localhost:8077/redirect\", Scopes: []string{ \"https://www.googleapis.com/auth/admob.readonly\", }, } router.GET(\"/redirect\", func(c *gin.Context) { code := c.Query(\"code\") log.Println(code) tok, err := oauth2Conf.Exchange(ctx, code) if err != nil { c.JSON(500, err) return } log.Println(tok.RefreshToken) }) }","title":"Redirect \uc11c\ubc84 \uad6c\ucd95"},{"location":"go-google-api-usage/#_1","text":"\ubbf8\ub9ac \uad6c\uae00\uacc4\uc815\uc744 \ub85c\uadf8\uc544\uc6c3\ud574\ub193\uace0 \uc544\ub798 URI \ub85c \uc694\uccad \ud6c4 \ub85c\uadf8\uc778 \ud569\ub2c8\ub2e4. \ub85c\uadf8\uc778\uc774 \uc131\uacf5\ud55c\ub2e4\uba74 \ub9ac\ub514\ub809\uc158 \uc11c\ubc84\ub85c \uc694\uccad\uc774 \uac11\ub2c8\ub2e4. \uadf8\ub9ac\uace0 code\ub97c \ubc1b\uc544\uc11c exchange \ud558\uba74 RefreshToken \uc774 \ubc1c\uae09\ub429\ub2c8\ub2e4. scope : \uc0ac\uc6a9\ud560 API \ubc94\uc704 client_id : API \ucf58\uc194\uc5d0\uc11c \uc124\uc815\ud55c ClientID https://accounts.google.com/o/oauth2/auth?scope=https://www.googleapis.com/auth/admob.readonly&response_type=code&access_type=offline&redirect_uri=http://localhost:8077/redirect&client_id=...","title":"\ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \ub85c\uadf8\uc778\ud558\uae30"},{"location":"go-google-api-usage/#api_1","text":"\ubc31\uc5d4\ub4dc\ub2e8\uc5d0\uc11c \ub9e4\ubc88 \ube0c\ub77c\uc6b0\uc800\ub85c \uc778\uc99d\ucc98\ub9ac\ub97c \ud560 \uc218 \uc5c6\uae30\ub54c\ubb38\uc5d0 RefreshToken \uc744 \uc774\uc6a9\ud574\uc11c AccessToken \uc744 \uc5bb\uc2b5\ub2c8\ub2e4.","title":"API \uc0ac\uc6a9\ud558\uae30"},{"location":"go-google-api-usage/#accesstoken-post","text":"POST https://accounts.google.com/o/oauth2/token HEADER \"Content-Type\" : \"application/x-www-form-urlencoded\" [Request Body (FormData)] | Key | Description | Type | | ---- | --------------- | ------ | | refresh_token | \uc704\uc5d0\uc11c \ubc1c\uae09\ubc1b\uc740 \ud1a0\ud070 | string | | client_id | API \ucf58\uc194\uc5d0\uc11c \uc5bb\uc740 id | string | | client_secret | API \ucf58\uc194 key | string | | grant_type | \uc5b4\ub5a4 \uc720\ud615\uc73c\ub85c \ud1a0\ud070\uc744 \uc5bb\uc744\uc9c0\uc5d0 \ub300\ud55c \ud0c0\uc785 | string | example : import \"github.com/go-resty/resty/v2\" func example() { client := resty.New() resp, err := client.R(). SetHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"). SetFormData(map[string]string{ \"refresh_token\": \"1//0e6caG1CsCnrVCgYIARAAGA4SNwF-...\", \"client_id\": \"871390000-xxx.apps.googleusercontent.com\", \"client_secret\": \"GOXXXX-31xxxx\", \"grant_type\": \"refresh_token\", }). Post(\"https://accounts.google.com/o/oauth2/token\") if err != nil { log.Println(err.Error()) } fmt.Println(\" Body :\\n\", resp) ...","title":"AccessToken \uc5bb\uae30\uc704\ud55c POST \uc694\uccad"},{"location":"go-google-api-usage/#google-developer-api","text":"admob \uc608\uc81c: type AdmobReq struct { ReportSpec struct { DateRange struct { StartDate struct { Year int `json:\"year\"` Month int `json:\"month\"` Day int `json:\"day\"` } `json:\"startDate\"` EndDate struct { Year int `json:\"year\"` Month int `json:\"month\"` Day int `json:\"day\"` } `json:\"endDate\"` } `json:\"dateRange\"` Metrics []string `json:\"metrics\"` LocalizationSettings struct { CurrencyCode string `json:\"currencyCode\"` LanguageCode string `json:\"languageCode\"` } `json:\"localizationSettings\"` Dimensions []string `json:\"dimensions\"` } `json:\"reportSpec\"` } var admobReq AdmobReq admobReq.ReportSpec.DateRange.StartDate.Year = startYear admobReq.ReportSpec.DateRange.StartDate.Month = startMonth admobReq.ReportSpec.DateRange.StartDate.Day = startDay admobReq.ReportSpec.DateRange.EndDate.Year = endYear admobReq.ReportSpec.DateRange.EndDate.Month = endMonth admobReq.ReportSpec.DateRange.EndDate.Day = endDay admobReq.ReportSpec.Metrics = []string{\"ESTIMATED_EARNINGS\", \"IMPRESSIONS\", \"IMPRESSION_RPM\"} admobReq.ReportSpec.LocalizationSettings.CurrencyCode = \"USD\" admobReq.ReportSpec.LocalizationSettings.LanguageCode = \"en-US\" admobReq.ReportSpec.Dimensions = []string{\"DATE\", \"APP\"} reportResp, err := client.R(). SetAuthToken(authResp.AccessToken). //\ub9c8\uc0ec\ub9c1\ud55c \uc561\uc11c\uc2a4 \ucf54\ub4dc SetHeader(\"ContentType\", \"application/json\"). SetBody(admobReq). Post(\"https://admob.googleapis.com/v1/accounts/pub-0000000/networkReport:generate\") fmt.Println(\" Error :\", err) fmt.Println(\" Body :\\n\", reportResp) Tip \ub3d9\uc77c\ud55c \ubc29\uc2dd\uc73c\ub85c \uad6c\uae00 \uc601\uc218\uc99d\uac80\uc99d, \ud658\ubd88\ubaa9\ub85d \uc870\ud68c API \ub4f1 \ubaa8\ub4e0 API \uc0ac\uc6a9\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.","title":"Google Developer API \ud638\ucd9c"}]}